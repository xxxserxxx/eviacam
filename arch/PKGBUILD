# Maintainer:  Dimitris Kiziridis <ragouel at outlook dot com>
# Contributor: jfperini <@jfperini>

pkgname=eviacam
pkgver=3.0.0
pkgrel=0
pkgdesc='A mouse replacement software that moves the pointer as you move your head'
arch=('x86_64')
url='https://eviacam.crea-si.com'
license=('GPL3')
depends=('opencv'
         'wxgtk'
         'wxgtk3')
provides=('eviacam')
source=("${pkgname}-${pkgver}.tar.gz::https://github.com/xxxserxxx/eviacam/archive/${pkgver}.tar.gz")
sha256sums=('cf0a610c9493dc62e3bafff489c8f4657603ac282e9312e142e6a39aeea152ef')

prepare() {
  cd "${pkgname}-${pkgver}"
  # Dirty fix: 'cvCreateCameraCapture doesn't support legacy API anymore' issue
  # sed -i '252s@1@0@' "${srcdir}/${pkgname}-${pkgver}"/src/viacamcontroller.cpp
}

build() {
  cd "${pkgname}-${pkgver}"
  ./autogen.sh
  ./configure --prefix=/usr --with-wx-config=/usr/bin/wx-config
  make
}

package() {
  cd "${pkgname}-${pkgver}"
  make DESTDIR="${pkgdir}" install
}
# vim: ts=2 sw=2 et:
